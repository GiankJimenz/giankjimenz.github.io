<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Despertar del Herrero</title>
    <link rel="stylesheet" href="forja.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <header class="container-fluid">
        <div class="row">
            <div class="col">
                <h1 class="text-center">El Descanso del Herrero</h1>
            </div>
        </div>
    </header>
    <div class="background-image">
        <div class="interface">
            <div class="container p-5 bg-dark text-white">
                <div class="row align-items-center">
                    <div class="col-md-3 text-center">
                        <a href="#" class="profile">
                            <img src="https://th.bing.com/th/id/R.6e580526639bbb48488c8a3f815f5928?rik=bJmdNfCr6P2Y1w&riu=http%3a%2f%2f1.bp.blogspot.com%2f_xOJ2co6B4Jw%2fS1PdT9uA4FI%2fAAAAAAAAAQg%2fuQsY2YTUj24%2fw1200-h630-p-k-no-nu%2fWarforged_Portrait.png&ehk=h1OBl1G4Pzqp3ujUGbPHKWtGxtl8TRL3TN5TFKzAf7g%3d&risl=&pid=ImgRaw&r=0" alt="cara del personaje principal Talos" class="rounded-circle profile-img" width="200" height="200">
                            <div class="profile-text">
                                <p class="profile-text-name">Nombre: Talos</p>
                            </div>
                        </a>
                    </div>
                    <div class="col-md-9">
                        <div class="game-container">
                            <h2 class="text-center game-container__title">UBICACION: Pasillo</h2>
                            <p id="output" class="game-container__output"></p>
                            <input type="text" id="input" autofocus class="game-container__input">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>  
    <script>
        var outputElement = document.getElementById("output");
        var profileImage = document.querySelector(".profile-img");
        var nombreElement = document.getElementById("Nombre");
        // Crea un nuevo elemento de imagen
    
        const game = {
            start: "El pasillo de esta casa está iluminado por la suave luz que se filtra desde una ventana en lo alto. Las paredes de piedra desgastada están adornadas con antiguas pinturas descoloridas. Al final del pasillo, una puerta roja enmarcada por intricados diseños de hierro forjado destaca entre las sombras. A ambos lados del pasillo se abren 2 habitaciones, un estudio y una biblioteca.<img src=https://th.bing.com/th/id/OIP.nPPdB6OUtI0yLwtJ-lQ1_gHaJ4?rs=1&pid=ImgDetMain alt=Pasillo de la casa de Hefesto, parece como un pasillo de un templo griego class=img-fluid width=700 height=300>",
            rooms: {
                templo: {
                    description: "La puerta roja está adornada con un panel que contiene cuatro palancas, cada una de ellacas colgando de cadenas. Las cadenas, hechas de bronce envejecido por el tiempo, añaden un toque de antigüedad y misterio a la puerta. Cada palanca parece tener su propio diseño único, con inscripciones borrosas que sugieren un propósito o significado oculto. Este panel de palancas de bronce contrasta con el color rojo intenso de la puerta, creando una imagen intrigante y cautivadora.<img src=https://thumbs.dreamstime.com/b/puerta-medieval-6287246.jpg alt=Puerta del templo de hefesto, es de color roja class=img-fluid width=700 height=300>",
                },
                biblioteca: {
                    description: "Este cuarto evoca un ambiente de sabiduría y erudición, con estanterías de madera noble que sostienen libros antiguos y rollos de pergaminos. La luz natural se cuela por las ventanas, iluminando los textos con un brillo suave. En una esquina, un atril de lectura permite el estudio tranquilo de los textos más preciados. Entre estos tesoros se encuentran los pergaminos de 'Edipo Rey', las narraciones de 'los 12 Trabajos de Heracles' y la venerada 'Guía de Pintura de Apolo', cada uno protegido y resguardado como un tesoro invaluable de conocimiento.<img src=biblioteca.jpg alt= biblioteca de dos pisos class=img-fluid width=700 height=300>",
                },
                estudio: {
                    description: "El estudio de pintura está imbuido de una atmósfera creativa, con paredes revestidas de lienzos a medio terminar y estantes repletos de frascos de pigmentos y pinceles de diversos tamaños. En el centro de la habitacion se encuentre una sola pintura<img src=https://64.media.tumblr.com/5e54479199204350cef4a081e3cbf611/951c219b8c1dd44d-22/s1280x1920/3df972efc5017a174640fda35146e859b81655f0.jpg alt=Estudio de arte, pintura y canvas tiradas en el suelo class=img-fluid width=700 height=300>",
                },
            },
            items: {
                libroEdipio: {
                    description: "El pergamino, amarillento por el paso del tiempo, despliega ante los ojos del lector la historia trágica de Edipo Rey, escrita con letras finas pero firmes que narran los eventos que llevaron a la caída del rey de Tebas. Entre los relatos de la fatalidad y el destino, se destaca una sección dedicada al enigma de la Esfinge, donde las palabras adquieren un aire enigmático:<div class='background-image__pergamino'> ‘Enigma de la Esfinge</H1>:<p>¿Cuál es la criatura que camina en el amanecer con cuatro patas, al mediodía con dos, y al anochecer con tres?’</p></div> <img src=https://th.bing.com/th/id/R.b0710bcc1e0b4c54ba295658c192aa4d?rik=0Ir7Levz%2bzqNdA&pid=ImgRaw&r=0 alt=portada de edipo rey class=img-fluid width=700 height=300>",
                },
                libroHerakles: {
                    description: "El pergamino, amarillento por el paso del tiempo, despliega ante los ojos del lector la saga del heroe Herakles, escrita con letras finas pero firmes que narran los eventos que llevaron a la salvacion de este heroe.<img src=https://i.pinimg.com/originals/2c/b8/cc/2cb8cc25846023c7c6d9d17c0d39d75c.jpg alt=portada de los 12 labores de herakles class=img-fluid width=700 height=300>",
                },
                libroApolo: {
                    description: "El pergamino, amarillento por el paso del tiempo, despliega ante los ojos del lector las enseñanzas del dios Apolo, escrita con letras finas pero firmes que narran diferentes tecnicas de pintura <img src= https://th.bing.com/th/id/OIP._9QGLPZLHBt8rUY8t3rR_wHaHa?rs=1&pid=ImgDetMain alt=portada de la guia de pintura de apolo class=img-fluid width=700 height=300>",
                },
                palancas:{
                    description:"Las imagenes de las palancas son las siguientes: <p>Primera palanca: Muestra un anciano con un baston</p> <p>Segunda palanca: Tiene tallado un bebe gateando</p><p>Tercera palanca: No tiene simbolo</p> <p>Cuarta palanca:Muestra un joven guerrero de pie con sus brazos en su cadera</p><img src=https://api.deepai.org/job-view-file/76d78dd4-e6fa-4b76-9a10-280a416d0bff/outputs/output.jpg  alt=cuatro palancas de bronze colgando de cadenas class=img-fluid width=700 height=300>",
                },
                retrato:{
                    description:"Un autoretrato de Hefesto, su rostro tallado con trazos de melancolía y pesar. Sus ojos, profundos y oscuros, reflejan una carga emocional difícil de soportar, mientras que su mirada perdida parece buscar respuestas en un horizonte lejano. Los surcos en su frente cuentan historias de preocupaciones pasadas, y sus labios, apenas entreabiertos, sugieren un susurro silencioso de dolor. <p>no te gusta esta pintura</p> <img src=https://www.reddit.com/media?url=https%3A%2F%2Fi.redd.it%2Foe6tx61xkj481.jpg alt=retrato de hefesto, se le ve triste class=img-fluid width=700 height=300>",
                },
                pinturas: {
                    description:"una variada coleccion de pigmentos<img src=https://lh3.googleusercontent.com/-Gxqk5Qlp1kE/Vsw_aERupNI/AAAAAAABL18/OBAsKcmtam4/forbes-pigment-library-146.jpg?imgmax=800 alt=coleccion de botellas de vidrios con pigmentos de diferentes colores  class=img-fluid width=700 height=300>",

                },
                pinceles:{
                    description:"una variada coleccion de pinceles<img src=https://th.bing.com/th/id/R.4cedfd518bb0b10dd9f5dead5a1014e8?rik=pg9GBwQLuCPuEw&riu=http%3a%2f%2fwww.eduardozamarro.com%2fblog%2fwp-content%2fuploads%2f2018%2f01%2fPINCELES..jpg&ehk=YO%2b2rs%2bUnv42hMuKGzB6P68i6xlS%2fTbvXpEImZvN8PM%3d&risl=&pid=ImgRaw&r=0&sres=1&sresct=1 alt=coleccion de antiguos pinceles  class=img-fluid width=700 height=300>",
                },
                retratoRehecho:{
                    description:"El mismo retrato del hombre, ahora reimaginado con trazos vivaces y tonos cálidos, irradia una nueva energía de felicidad y esperanza. Su rostro, una vez sombrío, ahora se ilumina con una sonrisa radiante que alcanza sus ojos brillantes y llenos de vida. La pesadez que antes marcaba sus rasgos se ha disipado, dejando paso a una expresión de alegría y optimismo. Los colores vibrantes y las pinceladas suaves dan vida a la escena, creando una atmósfera acogedora y llena de vitalidad. Este nuevo retrato invita al espectador a contemplar la belleza y la alegría que puede encontrar incluso en los momentos más oscuros.<img src=retratofeliz.jpg alt=retrato de hefesto, se le ve feliz class=img-fluid width=700 height=300>",
                }
            },
            currentRoom: "start",
            objeto:"",
            inventory: [],
            hasPinceles:false,
            hasReadEdipo:false,
            hasReadApolo:false,
            hasPinturas:false,
            hasRetrato:false,
            isRedone:false,
            output(text) {
                const outputElement = document.getElementById("output");
                outputElement.innerHTML = text;
                const imgElement=document.getElementById("output");
            },
            input(event) {
                if (event.keyCode === 13) {
                    const inputElement = document.getElementById("input");
                    const command = inputElement.value.toLowerCase();
                    inputElement.value = "";
                    this.processCommand(command);
                }
            },
           processCommand(command) {
           if (this.currentRoom === "start") {
                /*investigar cuarto o objetos*/
                if (command === "investigar estudio") {
                        this.currentRoom="estudio"
                        this.output(this.rooms[this.currentRoom].description);
                }
                else if (command === "investigar puerta") {
                        this.currentRoom="templo"
                        this.output(this.rooms[this.currentRoom].description);
                        
                }
                else if (command === "investigar biblioteca") {
                    this.currentRoom="biblioteca"
                    this.output(this.rooms[this.currentRoom].description);
                    
                }
                else {
                this.output("Comando no reconocido. Error TA705. Prueba otro comando.");
                }
            }
            else if(this.currentRoom==="estudio"){
                /*Comandos de leer*/
                if(command==="leer pinturas"){
                    this.output("Los tarros de vidrio tienen pequeñas etiquetas que describren los tonos y los materiales que componen los pigmentos de las <a href='https://historydisclosure.com/how-did-they-make-paint-in-ancient-greece/'>pinturas</a>");
                }
                else if(command==="leer pinceles"){
                    this.output("cada pincel tiene escrito en la madera el tamaño del pincel");
                }
                else if (command==="leer retrato"){
                    if(!this.isRedone){
                        this.output("En la esquina derecha inferior estan las firmas de Hefesto y la tuya, Talos");
                    }
                    else{
                        this.output("En la esquina derecha inferior estan la firma de Hefesto");
                    }
                }
                /*tomar objetos*/
                else if(command==="tomar pinturas"){
                    this.output("agarras las pinturas de la mesa");
                    this.hasPinturas=true;
                }
                else if(command==="tomar pinceles"){
                    this.output("agarras los diferentes pinceles de la mesa");
                    this.hasPinceles=true;
                    }
                else if (command==="tomar retrato"){
                    if(this.isRedone){
                        this.output("Tomas el retrato con cuidado");
                        this.hasRetrato=true;

                    }
                    else{
                        this.output("El retrato no te gusta, seria mejor dejarlo solo");
                    }
                }
                /*comandos de usar*/
                else if(command==="usar pinturas"){
                    this.output("agitas los tarros de vidrio, puedes observar como los pigmentos se mueven con el liquido de los tarros");
                   
                }
                else if(command==="usar pinceles"){
                    this.output("limpias los pinceles, sus puntas quedan como nuevas");
                    
                    }
                else if (command==="usar retrato"){
                    if(this.hasReadApolo){
                        if(this.hasPinceles && this.hasPinturas){
                            this.output("Comienzas a pintar sobre el retrato del hombre triste,con el paso del tiempo, minuto a minuto, el retrato se va iluminando");
                            this.isRedone=true;
                        }
                        else if(this.hasPinceles && !this.hasPinturas){
                            this.output("Tratas de comenzar tu trabajo, pero no puedes hacer mucho con pinceles pero sin pintura");
                        }
                        else if(!this.hasPinceles && this.hasPinturas){
                            this.output("Tratas de comenzar tu trabajo, pero no puedes hacer mucho con pintura pero sin pinceles");
                        } 
                    }
                    else{
                        this.output("El retrato no te gusta por la tristeza que saca, sientes un deseo de cambiarlo,pero no sabes como");
                    }
                }
                /*comando de investigar*/
                else if(command === "investigar pinturas"){
                    this.objeto="pinturas"
                    this.output(this.items[this.objeto].description);
                }
                else if(command === "investigar pinceles"){
                    this.objeto="pinceles"
                    this.output(this.items[this.objeto].description);
                }
                else if(command==="investigar retrato"){
                    if(this.isRedone){
                        this.objeto="retratoRehecho"
                        this.output(this.items[this.objeto].description);
                    }
                    else{
                        this.objeto="retrato"
                        this.output(this.items[this.objeto].description);
                    }
                }
                else if (command === "investigar pasillo") {
                        this.currentRoom="start"
                        this.output(this.start);       
                }
                else {
                    this.output("Comando no reconocido. Error TA705. Prueba otro comando.");
                }
            } 
            else if(this.currentRoom==="biblioteca"){
                /*Comandos de leer*/
                if(command === "leer edipo rey"){
                    this.objeto="libroEdipio"
                    this.output(this.items[this.objeto].description);
                    this.hasReadEdipo=true;
                }
                else if(command==="leer los 12 trabajos de heracles"){
                    this.objeto="libroHerakles"
                    this.output(this.items[this.objeto].description);
                }
                else if (command==="leer guia de pintura de apolo"){
                    this.objeto="libroApolo"
                    this.output(this.items[this.objeto].description);
                    this.hasReadApolo=true;
                }
                /*tomar objetos*/
                else if(command==="tomar edipo rey"){
                    this.output("este libro no es tuyo,mejor dejarlo aqui");
                }
                else if(command==="tomar los 12 trabajos de heracles"){
                    this.output("este libro no es tuyo,mejor dejarlo aqui");
                }
                else if (command==="tomar guia de pintura de apolo"){
                    this.output("este libro no es tuyo,mejor dejarlo aqui");
                }
                /*comando de investigar*/
                else if(command==="investigar edipio rey"){
                    this.objeto="libroEdipio"
                    this.output(this.items[this.objeto].description);
                    this.hasReadEdipo=true;
                }
                else if(command==="investigar los 12 trabajos de heracles"){
                    this.objeto="libroHerakles"
                    this.output(this.items[this.objeto].description);
                }
                else if (command==="investigar guia de pintura de apolo"){
                    this.objeto="libroApolo"
                    this.output(this.items[this.objeto].description);
                    this.hasReadApolo=true;
                }
                else if (command === "investigar pasillo") {
                        this.currentRoom="start"
                        this.output(this.start);       
                }
                else {
                    this.output("Comando no reconocido. Error TA705. Prueba otro comando.");
                }
            }
            else if(this.currentRoom==="templo"){
                /*Comandos de leer*/
                if(command==="leer palancas"){
                    this.objeto="palancas"
                    this.output(this.items[this.objeto].description);
                }
                /*tomar objetos*/
                else if(command==="tomar palancas"){
                    this.output("Tratas de tomar las palancas, pero el mecanismo a las que estan conectadas esta las mantiene en su lugar");
                }
                /*comando de investigar*/
                else if(command==="investigar palancas"){
                    this.output("investigas las palancas, parece ser un sistema que abrira la puerta si se activa la secuencia correcta de las palancas");
                }
                else if (command === "investigar pasillo") {
                        this.currentRoom="start"
                        this.output(this.start);       
                }
                /*comando de usar*/
                else if(command==="usar palancas"){
                    if(this.hasReadEdipo){
                        this.output("Conectas el acertijo de la esfinge con las imagenes en la palancas.<p>Jalas primero la palanca con el bebe gateadno, despues la con el hombre en su joventud, luego la palanca con el anciano con el baston, por ultimo jalas la palanca sin ninguna imagen</p> La puerta se abre lentamente, la musica suena mas fuerte y puedes entrar al templo")
                    }
                    else {
                        this.output("Comienzas a mover las palancas en secuencias aleatorias pero no sucede nada")
                    }
                }
                

            }
        else {
            this.output("Comando no reconocido. Error TA705. Prueba otro comando.");
        }
        },
            init() {
                document.getElementById("input").addEventListener("keyup", this.input.bind(this));
                this.output(this.start);
            }
        };

        game.init();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>